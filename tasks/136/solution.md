Сразу обозначим за $x_{l_n}$ и $x_{L_n}$ такие подпоследовательности, что

$$ \limn x_{l_n} = \underline\limn x_n = l $$

$$ \limn x_{L_n} = \overline\limn x_n = L $$

---

**Бесконечность при делении отрезка**

Возьмем произвольное число $a$ из интервала $(l, L)$.

Докажем, что бесконечно много элементов последовательности $x_n$ лежит и ниже, и выше числа $a$.

Доказывать будем от противного. Пусть это не так и, например, ниже $a$ лежит конечное число элементов $x_n$ (или не лежит вообще нисколько).

Из условия нам известно, что существует подпоследовательность $x_{l_n}$, которая стремится к $l$, то есть

$$ \forall \varepsilon > 0 \ \exists N = N(\varepsilon) \ \forall n > N \ : \ |x_{l_n} - l| < \varepsilon $$

Возьмем тогда положительное $\varepsilon = a - l$. Значит для $a - l$ существует такое $N_l$, что все члены $x_{l_n}$ удовлетворяют неравенству

$$ |x_{l_n} - l| < a - l $$

Раскроем это неравенство по пункту 1 прото-задачи <p:[simple-abs]>:

$$ |x_{l_n} - l| < a - l \Leftrightarrow \begin{cases} x_{l_n} - l < a - l \\ x_{l_n} - l > -(a-l) \end{cases} $$

Нас интересует первое неравенство справа:

$$ x_{l_n} - l < a -l $$

Прибавляем к обеим частям $l$:

$$ x_{l_n} < a $$

Итак, после $N_l$ все элементы $x_{l_n}$ (а их бесконечно много) лежат ниже $a$ ($x_{l_n} < a$). Каждый элемент $x_{l_n}$ является каким-то элементом $x_n$.
Значит ниже $a$ лежит бесконечно много элементов $x_n$.

Аналогично показывается, что выше $a$ также лежит бесконечно много элементов $x_n$. Просто в этом случае будем пользоваться подпоследовательностью, которая по условию стремится к $L$.

Итак, мы показали, что какое бы число $a$ между $l$ и $L$ мы не взяли, ниже и выше него всегда бесконечно много элементов $x_n$.

---

**Построение подпоследовательностей**

Выберем какое-то число $a$ между $l$ и $L$.

Возьмем какой-то элемент $x_{t_1}$, который выше $a$. Рассмотрим теперь следующий за ним элемент $x_{t_1 + 1}$. Для него есть два варианта:

$$ x_{t_1 + 1} > a \ \text{ или } \ x_{t_1 + 1} \leq a $$

Пусть $x_{t_1 + 1} > a$. Тогда рассматриваем следующий за ним элемент $x_{t_1 + 2}$ и смотрим, больше или не больше он $a$.

Рано или позно мы придем к двум таким последовательным элементам с номерами $t_1 + k_1$ и $(t_1 + k_1)+1$, что

$$ x_{t_1 + k_1} > a \ \text{ и } \ x_{(t_1 + k_1)+1} \leq a $$

Пусть это не так, то есть любой элемент $x_n$ после номера $t_1$ будет строго больше $a$. Но этого не может быть, так как выше мы показали, что ниже $a$ есть бесконечно много элементов $x_n$, а значит и после номера $t_1$ есть еще
бесконечно много элементов $x_n$, которые меньше $a$.

Значит все же у нас есть два таких последовательных элемента, что

$$ x_{t_1 + k_1} > a \ \text{ и } \ x_{(t_1 + k_1)+1} \leq a $$

Тогда введем обозначения $a_1 = t_1 + k+1$ и $a_1' = (t_1 + k_1) + 1$. Итак, имеем два идущих друг за другом элемента

$$ x_{a_1} \quad \text{ и } \quad x_{a_1'} $$

Так как выше $a$ лежит бесконечно много элементов $x_n$, то и после номера $a_1'$ найдется какой-то элемент выше $a$. Обозначим этот элемент за $x_{t_2}$. Повторяем рассуждения, как для $x_{t_1}$. В итоге получаем еще пару идущих друг за
другом элементов с номерами $a_2 = t_2 + k_2$ и $a_2' = (t_2 + k_2) + 1$:

$$ x_{a_2} \quad \text{ и } \quad x_{a_2'} $$

Бесконечно повтряя подобные рассуждения получаем две подпоследовательности $x_{a_n}$ и $x_{a_n'}$:

$$ x_{a_1}, x_{a_2}, x_{a_3},\ldots, x_{a_n}, \ldots $$

$$ x_{a_1'}, x_{a_2'}, x_{a_3'},\ldots, x_{a_n'}, \ldots $$

Причем эти две подпоследовательности связаны следующим свойством:

\begin{gather*}
    x_{a_1 + 1} = x_{a_1'}
    \\[5px]
    x_{a_2 + 1} = x_{a_2'}
    \\[5px]
    \ldots
    \\[5px]
    x_{a_n + 1} = x_{a_n'}
\end{gather*}

---

**Сходимость к $a$**

Так как

$$ x_{a_n'} - x_{a_n} = x_{a_n + 1} -x_{a_n} $$

то $x_{a_n'} - x_{a_n}$ является подпоследовательностью $x_{n+1} - x_n$.

Из условия нам известно, что

$$ \limn (x_{n+1} - x_n) = 0 $$

По прото-задаче <p:[sequences/limits/limit-point]> получаем, что и

$$ \limn (x_{a_n'} - x_{a_n}) = 0 $$

Распишем это по определению:

$$ \forall \varepsilon > 0 \ \exists N = N(\varepsilon) \ \forall n > N \ : \ |x_{a_n'} - x_{a_n}| < \varepsilon $$

Рассмотрим неравенство в конце:

$$ |x_{a_n'} - x_{a_n}| < \varepsilon $$

Поменяем местами слагаемые внутри модуля (см. прото-задачу <p:[abs-properties]>):

$$ |x_{a_n} - x_{a_n'}| < \varepsilon $$

Но $x_{a_n'} \leq a < x_{a_n}$ поэтому можно составить цепное неравенство:

$$ |x_{a_n} - a| \leq |x_{a_n} - x_{a_n'}| < \varepsilon $$

::: spoiler Пояснение к цепному неравенству
Докажем, что
$$ |f-z| \leq |f-g|, \ (g \leq z \leq f) $$

Рассуждая геометрически, у нас есть две точки $g$ и $f$, а также точка $z$ между ними.
Тогда очевидно, что расстояние между крайними точками $g$ и $f$ всегда больше, чем расстояние между одной крайней $f$ и точкой между ними $z$.

Аналитически, возведем обе части неравенства в квадрат по пункту 3 прото-задачи <p:[simple-abs]>:

\begin{gather*}
    (f-z)^2 \leq (f-g)^2
    \\[5px]
    f^2 - 2fz + z^2 \leq f^2 - 2fg + g^2
    \\[5px]
    z^2-2fz \leq g^2 - 2fg
    \\[5px]
    z^2 - g^2 \leq 2f(z-g)
    \\[5px]
    (z-g)(z+g) \leq 2f(z-g)
\end{gather*}

Сокращаем обе части на положительное $z-g$:

$$ z+g \leq 2f $$

Действительно, из условия

$$ z\leq f $$

Прибавим к обеим частям $g$:

$$ z+g\leq f+g $$

Но $g\leq f$, поэтому, заменив $g$ на $f$ можно построить следующее цепное неравенство:

$$ z+g\leq f+g \leq f+f = 2f $$

$$ z+g\leq 2f $$

Итак, мы доказали неравенство

$$ |f-z| \leq |f-g|, \ (g \leq z \leq f) $$

$\blacksquare$
:::

$$ |x_{a_n} - a| < \varepsilon $$

Мы доказали, что

$$ \forall \varepsilon > 0 \ \exists N = N(\varepsilon) \ \forall n > N \ : \ |x_{a_n} - a| < \varepsilon $$

А это по определению означает, что

$$ \limn x_{a_n} = a $$

---

Итак, мы взяли произвольное число $a$ из интервала $(l, L)$ и построили подпоследовательность $x_{a_n}$, которая сходится к $a$.
Значит $a$ — частичный предел $x_n$. То есть любое число из отрезка $[l,L]$ является частичным пределом $x_n$.