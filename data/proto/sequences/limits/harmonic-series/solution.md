## Вывод основного неравенства

Из прото-задачи <p:[sequences/limits/second-wonderful]> или задачи <t:[69]> известно, что

$$ \left( 1 + \frac{1}{n} \right)^n < e $$

Прологарифмируем это неравенство по основанию $e$:

$$ n \ln \left( 1 + \frac{1}{n} \right) < 1 $$

Делим обе части на $n$:

$$
    \ln \left( 1 + \frac{1}{n} \right) < \frac{1}{n}
    \\[5px]
    \ln\left( \frac{n+1}{n} \right) < \frac{1}{n}
    \\[5px]
    \ln(n+1) - \ln(n) < \frac{1}{n}
$$

## Построение последовательностей

Рассмотрим последовательность $x_n$, которая состоит из суммы выражений левой части неравенства выше:

$$ x_n = \ln(2) - \ln(1) + \ln(3) - \ln(2) + \ldots + \ln(n+1) - \ln(n) $$

Эту сумму можно записать в упрощенном виде:

$$ x_n = \ln(n+1) - \ln(1) $$

Но логарифм с любым основанием от $1$ равен $0$, поэтому

$$ x_n = \ln(n+1) $$

В то же время, как мы показали в неравенстве выше, каждая разность в развернутой записи $x_n$ меньше $\frac{1}{n}$:

$$ x_n = \overbrace{\ln(2) - \ln(1)}^{\large < \frac{1}{1}} + \overbrace{\ln(3) - \ln(2)}^{\large < \frac{1}{2}} + \ldots + \overbrace{\ln(n+1) - \ln(n)}^{\large < \frac{1}{n}} $$

Заменяя каждую разность на соответствующую дродь $\frac{1}{n}$ получаем

$$ x_n < 1 + \frac{1}{2} + \frac{1}{3} + \ldots + \frac{1}{n} $$

Сумму в правой части обозначаем за последовательность $y_n$:

$$ y_n = 1 + \frac{1}{2} + \frac{1}{3} + \ldots + \frac{1}{n} $$

Эта последовательность и называется *гармоническим рядом*.

Как мы только что показали,

$$ x_n < y_n $$

## Доказательство расходимости

Покажем, что $x_n$ расходится, то есть

$$ \limn \ln(n+1) = +\infty $$

По определению (см. задачу <t:[45]>) это означает, что

$$ \forall E > 0 \ \exists N = N(E) \ \forall n > N \ : \ |\ln(n+1)| > E $$

Рассмотрим неравенство в конце:

$$ |\ln(n+1)| > E $$

От модуля можно избавиться, так как выражение под ним всегда больше $0$:

$$ \ln(n+1) > E $$

Представим обе части неравенства в виде показателей степени с основанием $e$ (знак неравенства не изменится, так как $e>1$):

$$ e^{\ln(n+1)} > e^E $$

$$ n+1 > e^E $$

$$ n > e^E - 1 $$

Итак, для любой потенциальной верхней границы $E>0$ нам достаточно взять $N$ по следующей формуле:

$$ N(\varepsilon) = \ceil{e^E - 1} $$

Тогда, какое-бы $n>N$ мы не взяли,

$$ n \geq N(\varepsilon) + 1 > N(\varepsilon) = \ceil{e^E - 1} \geq e^E - 1 $$

А раз такое произвольное $n$

$$ n > e^E - 1 $$

То

$$ |\ln(n+1)| > E $$

Итак, мы доказали, что $x_n$ расходится. Выше мы показали, что

$$ y_n > x_n $$

Поэтому мы можем брать то же самое $N$, что и для $\ln(n+1)$, и оно будет работать и для $y_n$:

$$ \left| 1 + \frac{1}{2} + \ldots + \frac{1}{n}\right| > |\ln(n+1)| > E $$

$$ \left| 1 + \frac{1}{2} + \ldots + \frac{1}{n}\right| > E $$

Итак,

$$ \forall E > 0 \ \underbrace{\exists N = N(E)}_{\text{берем } N \text{ для } \ln(n+1)} \ \forall n > N \ : \ \left| 1 + \frac{1}{2} + \ldots + \frac{1}{n}\right| > E $$

А это по определению означает, что

$$ \limn 1 + \frac{1}{2} + \ldots + \frac{1}{n} = +\infty $$