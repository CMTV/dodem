Введем обозначение $t = \ctg x$ и упростим выражение:

$$ \frac{1-t^3}{2-t-t^3} = \frac{t^3 - 1}{t^3 + t - 2} = \ldots $$

В числителе пользуемся разностью кубов. В знаменателе сразу замечаем, что один из корней равен $1$. С помощью деления многочленов уголком находим требуемое разложение:

$$ \ldots = \frac{(t-1)(t^2 + t + 1)}{(t-1)(t+t+2)} = \frac{t^2 + t + 1}{t^2 + t + 2} $$

Возвращаемся обратно к $x$ и находим значение предела, используя непрерывность котангенса (<p:[f/limits/continuity/trigonom]>):

$$ \limf{x}{\frac{\pi}{4}} \frac{\ctg^2x + \ctg x + 1}{\ctg^2x + \ctg x + 2} = \frac{\ctg^2\frac{\pi}{4} + \ctg\frac{\pi}{4} + 1}{\ctg^2\frac{\pi}{4} + \ctg\frac{\pi}{4} + 2} = \\[10px] = \frac{1^2 + 1 + 1}{1^2 + 1 + 2} = \frac{3}{4} $$