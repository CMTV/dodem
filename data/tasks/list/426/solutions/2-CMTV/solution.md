Итак, нам из числителя нужно два раза вытащить скобку $(x-a)$, чтобы избавиться от деления на $0$ в знаменателе.

Сначала заменим $x^n - a^n$ в числителе на разложение из прото-задачи <b:[П-ссылка](advanced/proto/common/power-diff)>:

$$ (x^n - a^n) - na^{n-1}(x-a) = \\ = (x-a)\left[ x^{n-1} + ax^{n-2} + \ldots + a^{n-1} - na^{n-1} \right] = \ldots $$

Внутри квадратных скобок распределим $n$ штук $a^{n-1}$ на каждое слагаемое:

$$ \ldots = \\ (x-a)\left[ (x^{n-1} - a^{n-1}) + a(x^{n-2} - a^{n-2}) + \ldots + a^{n-2}(x-a) \right] \\ = \ldots $$

Для каждой скобки в квадратных скобках вновь воспользуемся равенством из <b:[П-ссылка](advanced/proto/common/power-diff)>, предварительно вынеся за скобки $(x-a)$:

$$
\def\arraystretch{1.5}\begin{array}{c}
x^{n-2} & ax^{n-3} & a^2x^{n-4} & \ldots & a^{n-2}
\\
& ax^{n-3} & a^2x^{n-4} & \ldots & a^{n-2}
\\
&& a^2x^{n-4} & \ldots & a^{n-2}
\\
&&&&\cdots
\\
\hline
\\[-15px]
x^{n-2} & 2ax^{n-3} & 3a^2x^{n-4} & \ldots & (n-1)a^{n-2}
\end{array}
$$

$$ \ldots = (x-a)^2\left[ x^{n-2} + 2ax^{n-3} + \ldots + (n-1)a^{n-2} \right] $$

Теперь найдем значение предела, используя его арифметические свойства, а также предел многочлена из <b:[П-ссылка](advanced/proto/f-lim/elementary)>:

$$ \limf{x}{a} \frac{(x^n-a^n)-na^{n-1}(x-a)}{(x-a)^2} = \\[5px] = \limf{x}{a} \left[x^{n-2} + 2ax^{n-3} + \ldots + (n-1)a^{n-2}\right] = \\[5px] = a^{n-2} + 2 a^{n-2} + 3 a^{n-2} + \ldots + (n-1)a^{n-2} = \\[5px] = \frac{n(n-1)}{2}a^{n-2} $$

Выше мы воспользовались формулой суммы первых $n-1$ натуральных чисел, которая была выведена в задаче <t:1>.