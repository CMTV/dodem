## Подобие треугольников

Докажем, что треугольники $ABC$ и $LBM$ подобны. Оба треугольника имеют один и тот же угол $\angle B$.

Углы $\angle A$ и $\angle MLB$ равны как соответственные углы при прямой $AB$, которая пересекает параллельные прямые $LM$ и $AC$.

![Иллюстрация подобия]([[ assets ]]/angles.svg){: .w6 }

Итак, треугольники $ABC$ и $LBM$ имеют два одинаковых угла, значит, по первому признаку подобия треугольников, они подобны:

$$ \triangle ABC \sim \triangle LBM $$

$\blacksquare$

## Длина прямоугольника

Ширина прямоугольника $KLMN$ в задаче обозначает за переменную $x$. Найдем теперь зависимость длины прямоугольника, которую будем обозначать за $y$, от его ширины $x$.

Так как треугольники $LBM$ и $ABC$ подобны, отношение их оснований $LM$ и $AC$ равно коэффициенту подобия $k$:

$$ \frac{LM}{AC} = k $$

Заметим, что основание $LM$ треугольника $LBM$ и является искомой длиной прямоугольника, а $AC = b$ по условию, поэтому перезапишем уравнение выше:

$$ \frac{y}{b} = k $$

$$ y = k b $$

С другой стороны, отношение высот треугольников $LBM$ и $ABC$ также равно коэффициенту подобия $k$:

$$ \frac{h-x}{h} = k $$

Подставляем найденное выражение для $k$ в формулу длины прямоугольника выше:

$$ y = \frac{h-x}{h}b $$

Запишем в более удобной форме:

$$ y = -\frac{b}{h}x + b $$

## Периметр

Периметр любого прямоугольника со сторонами $x$ и $y$ равен сумме длин всех его сторон:

$$ P = 2x + 2y $$

Вместо $y$ подставляем найденное в предыдущем разделе выражение:

$$ P = 2x + 2\left(-\frac{b}{h}x + b\right) $$

Запишем в более каноническом виде:

$$ P(x) = 2\left(1-\frac{b}{h}\right)x + 2b $$

Получили уравнение прямой, которая возрастает, когда высота $h$ больше основания $b$ и убывает, когда высота меньше основания.

Для демонстрации этого построим график периметра $P_1(x)$ вписанного прямоугольника в треугольник со основанием $b=1$ и высотой $h=3$.

$$ P_1(x) = \frac{4}{3}x + 2 $$

![Первый график функции периметра]([[ assets ]]/plot-p-1.svg){: .w7 }

Видим, что наименьший периметр $2$ прямоугольник имеет при $x = 0$, когда он сплющивается к небольшому основанию, а наибольший $6$, когда он полностью вытягивается к высоте.

Теперь построим график $P_2(x)$ вписанного прямоугольника в треугольник с основанием $b=3$ и высотой $h=1$.

$$ P_2(x) = -4x + 6 $$

![Первый график функции периметра]([[ assets ]]/plot-p-2.svg){: .w7 }

Из-за широкого основания уже при $x=0$ получаем наибольший возможный периметр $6$, который далее уменьшается, пока не дойдет до минимальных $2$, когда прямоугольник вытянется на всю небольшую высоту треугольника.

## Площадь

Площадь любого прямоугольника со сторонами $x$ и $y$ равен произведению его сторон:

$$ S = x\cdot y $$

Вместо $y$ подставялем найденное в разделе "Длина прямоугольника" выражение:

$$ S = x\cdot\left(-\frac{b}{h}x + b\right) $$

Раскрываем скобки:

$$ S(x) = -\frac{b}{h}x^2 + bx $$

Получили уравнение перевернутой параболы. Это означает, что при любых основании и высоте площадь прямоугольника в зависимости от $x$ будет сначала возрастать, достигать своего максимума, а затем убывать.

Для демонстрации этого построим график площади $S_1(x)$ вписанного прямоугольника в треугольник с основанием $b=1$ и высотой $h=3$.

$$ S_1(x) = -\frac{1}{3}x^2 + x $$

![График функции площади]([[ assets ]]/plot-s.svg){: .w7 }